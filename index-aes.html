<!DOCTYPE html>
<html lang="en">

<head>
    <title>Hello!</title>

    <script src="aes.js"></script>
    <script src="https://code.jquery.com/jquery-1.8.3.min.js"></script>
    <script type="text/javascript">
        $(function () {

            $('#decrypt-btn').click(function () {
                let decrypt = CryptoJS.AES.decrypt($("#encrypt-text").val(), 'secretkey').toString(CryptoJS.enc.Utf8);
                $("#base64-image").val(decrypt);
            });

            $('#encrypt-btn').click(function () {
                let body = { capturedImage: $("#base64-image").val() };
                $("#encrypt-text").val(CryptoJS.AES.encrypt(JSON.stringify(body), 'secretkey'));
            });
        });
    </script>
</head>

<body>
    <label for="input">Base64 Image</label><br />
    <textarea id="base64-image" name="input" type="text" rows=10 cols=70></textarea><br />
    <input id="encrypt-btn" type="button" value="Encrypt" /><br /><br /><br /><br />
    <label for="input">Encrypted Body</label><br />
    <textarea id="encrypt-text" name="input" type="text" rows=10 cols=70></textarea><br />
    <input id="decrypt-btn" type="button" value="Decrypt" /><br />
</body>

</html>
